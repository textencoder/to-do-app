(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();const x=()=>{const e=document.createElement("header"),t=document.createElement("img");t.src="/upnext_v1.png",t.style.width="200px",t.style.paddingTop="4px",e.append(t),e.innerHTML+=`
   <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="black"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-search"
        >
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
   `,document.querySelector("#app").append(e)};class E{constructor(t,o,r,n,l){this.title=t,this.description=o,this.dueDate=r,this.priority=n,this.status=l}}class j{constructor(t,...o){this.title=t,this.toDoList=[...o]}}let s=[];function w(e){s.push(new j(e))}function k(e,...t){s[e].toDoList.push(new E(...t))}function v(){for(let e of s)localStorage.setItem(JSON.stringify(e.title),JSON.stringify(e.toDoList))}const S=()=>{const e=document.createElement("main");if(e.id="home-main",document.querySelector("#app").appendChild(e),s.length==0)e.innerHTML="<p>You don't have any projects yet.</p><p>Create a new project to get started!</p>";else for(let t=0;t<s.length;t++)C(t)},C=e=>{const t=document.createElement("section"),o=document.createElement("h2"),r=document.createElement("p");t.dataset.label=e,t.classList.add("project-tile");let n=0;for(const c of s[e].toDoList)c.status=="Completed"&&n++;let l=n>0?Number((n/s[e].toDoList.length*100).toFixed(0)):0;l==100&&(t.style.borderColor="green",r.style.color="green"),r.textContent=`${n}/${s[e].toDoList.length} tasks • ${l}%`,o.textContent=s[e].title,t.append(r,o),document.querySelector("#home-main").append(t)},D=()=>{const e=document.createElement("footer");e.id="home-footer";const t=document.createElement("button");t.innerHTML=`
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
          New Project
  `,e.appendChild(t),document.querySelector("#app").appendChild(e)},T=e=>{const t=document.createElement("header");t.id="project-header";const o=document.createElement("h1");e==null?o.textContent="New Project":o.textContent=s[e].title,t.innerHTML=`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left">
        <line x1="19" y1="12" x2="5" y2="12">
        </line>
        <polyline points="12 19 5 12 12 5">
        </polyline>
        </svg>
  `,t.appendChild(o),document.querySelector("#app").append(t)},M={high:"red",medium:"gold",low:"green"},q={"In Progress":"gold",Completed:"green"},P=e=>{const t=document.createElement("main");if(t.id="project-main",document.querySelector("#app").append(t),e==null||s[e].toDoList.length==0){t.innerHTML="<p>This project does not have any tasks yet.</p> <p>Publish a new task to get started!</p>";return}else for(let o=0;o<s[e].toDoList.length;o++)H(e,o)},H=(e,t)=>{const o=document.createElement("section");o.classList.add("task-tile"),o.dataset.label=t;const r=document.createElement("h3"),n=document.createElement("div"),l=document.createElement("p"),c=document.createElement("div");n.classList.add("status"),r.textContent=s[e].toDoList[t].title,n.innerHTML=s[e].toDoList[t].status=="In Progress"?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="gold" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>',l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>'+s[e].toDoList[t].dueDate,c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',o.style.borderColor=s[e].toDoList[t].status=="In Progress"?"gold":"green",o.append(r,n,l,c),document.querySelector("#project-main").append(o)},N=()=>{const e=document.createElement("footer");e.id="project-footer";const t=document.createElement("button");t.innerHTML=`
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
          New Task
  `,e.append(t),document.querySelector("#app").append(e)},B=(e,t)=>{const o=document.createElement("header");o.id="task-header";const r=document.createElement("h1");r.textContent=s[e].toDoList[t].title,o.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left">
          <line x1="19" y1="12" x2="5" y2="12">
          </line>
          <polyline points="12 19 5 12 12 5">
          </polyline>
          </svg>
    `,o.appendChild(r),document.querySelector("#app").append(o)},O=(e,t)=>{const o=document.createElement("main");o.id="task-main",document.querySelector("#app").append(o),I(e,t)},I=(e,t)=>{const o=document.createElement("section");o.classList.add("task-info");const r=document.createElement("label"),n=document.createElement("p"),l=document.createElement("label"),c=document.createElement("div"),i=document.createElement("label"),a=document.createElement("h4");c.classList.add("priority"),c.style.color=M[s[e].toDoList[t].priority],r.textContent="Description",n.textContent=s[e].toDoList[t].description,l.textContent="Priority",c.textContent="•"+s[e].toDoList[t].priority,i.textContent="Due Date",a.textContent=s[e].toDoList[t].dueDate,o.append(r,n,l,c,i,a),document.querySelector("#task-main").append(o)},m=(e,t)=>{const o=document.createElement("footer");o.id="task-footer";const r=document.createElement("button");let n=s[e].toDoList[t].status;r.innerHTML=n=="In Progress"?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>',r.innerHTML+=n,r.style.background=q[n],o.append(r),document.querySelector("#app").append(o),document.querySelector("#task-footer button").addEventListener("click",()=>{n=="In Progress"?(s[e].toDoList[t].status="Completed",document.querySelector("#task-footer").remove(),m(e,t)):n=="Completed"&&(s[e].toDoList[t].status="In Progress",document.querySelector("#task-footer").remove(),m(e,t))})};function F(e,t){B(e,t),O(e,t),m(e,t);let o=e;document.querySelector("svg").addEventListener("click",()=>{document.querySelector("#app").innerHTML="",p(o)})}const _=e=>{const t=document.createElement("dialog");t.classList.add("task-modal");const o=document.createElement("h3");o.textContent="New Task";const r=document.createElement("input");r.type="text",r.placeholder="Task Name...",r.required=!0,r.autofocus=!0,r.minLength="1",r.maxLength="20";const n=document.createElement("textarea");n.placeholder="Task description...";const l=document.createElement("label");l.textContent="Due Date:";const c=document.createElement("input");c.type="date";const i=document.createElement("label");i.textContent="Set Priority:";const a=document.createElement("select"),h=document.createElement("option"),g=document.createElement("option"),y=document.createElement("option");h.textContent="high",g.textContent="medium",y.textContent="low",a.append(h,g,y);const d=document.createElement("button");d.classList.add("submit-btn"),d.textContent="Submit",d.type="submit";const u=document.createElement("button");u.classList.add("close-btn"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',t.append(o,r,n,l,c,i,a,d,u),document.querySelector("#app").append(t),u.addEventListener("click",()=>{t.remove()}),d.addEventListener("click",b=>{b.preventDefault(),k(e,r.value,n.value,c.value,a.value,"In Progress"),v(),t.remove(),console.log("task name: ",r.value),console.log("description: ",n.value),console.log("due date: ",c.value),console.log("priority: ",a.value),document.querySelector("#app").innerHTML="",p(e)}),t.showModal()};function p(e){T(e),P(e),N();let t=e,o="";document.querySelector("svg").addEventListener("click",()=>{document.querySelector("#app").innerHTML="",L()}),document.querySelectorAll(".task-tile").forEach(r=>{r.addEventListener("click",()=>{document.querySelector("#app").innerHTML="",o=Number(r.dataset.label),F(t,o)})}),document.querySelector("#project-footer button").addEventListener("click",()=>{_(e)})}const A=()=>{const e=document.createElement("dialog");e.classList.add("project-modal");const t=document.createElement("h3");t.textContent="New Project";const o=document.createElement("input");o.placeholder="Project Name...",o.required=!0,o.autofocus=!0,o.minLength="1",o.maxLength="20";const r=document.createElement("button");r.classList.add("submit-btn"),r.textContent="Submit",r.type="submit";const n=document.createElement("button");n.classList.add("close-btn"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',e.append(t,o,r,n),document.querySelector("#app").append(e),n.addEventListener("click",()=>{e.remove()}),r.addEventListener("click",l=>{l.preventDefault(),console.log(o.value),w(o.value),v(),e.remove(),console.log(s);for(let[c,i]of s.entries())i.title==o.value&&(document.querySelector("#app").innerHTML="",p(c))}),e.showModal()};let f="";function L(){x(),S(),D(),document.querySelector("#home-footer button").addEventListener("click",()=>{A()}),document.querySelectorAll(".project-tile").forEach(e=>{e.addEventListener("click",()=>{document.querySelector("#app").innerHTML="",f=Number(e.dataset.label),p(f)})})}function J(e){let t;try{t=window[e];const o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(o){return o instanceof DOMException&&o.name===QuotaExceededError&&t&&t.length!==0}}if(J("localStorage")){console.log("localStorage access granted");for(const[e,t]of Object.entries(localStorage))if(e!=length){w(JSON.parse(e));for(const o of JSON.parse(t))k(Object.keys(localStorage).indexOf(e),...Object.values(o))}}else console.log("access denied!");L();document.ondblclick=function(e){e.preventDefault()};
